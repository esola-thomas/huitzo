---
import Layout from '~/layouts/PageLayout.astro';
import IntelligencePackCard from '~/components/IntelligencePackCard.astro';
import Features from '~/components/widgets/Features.astro';
import Content from '~/components/widgets/Content.astro';
import { getIntelligencePacksByStatus } from '~/utils/intelligence-packs';

// Get the first active pack for featured display
const activePacks = await getIntelligencePacksByStatus('active');
const featuredPack = activePacks[0] || null;

const metadata = {
  title: 'Huitzo - The Decision Engine for Business',
  description: 'Huitzo transforms your raw business data into clear, actionable intelligence. No complex dashboards, no data teams—just the answers you need.',
};
---

<Layout metadata={metadata}>
  <!-- Hero Section -->
  <section class="py-20 lg:py-32">
    <div class="container mx-auto px-4">
      <div class="max-w-4xl mx-auto text-center">
        <h1 class="text-4xl lg:text-6xl font-bold mb-6 leading-normal lg:leading-tight">
          Stop Guessing. <span class="text-gradient animated-gradient">Start Deciding.</span>
        </h1>

        <p class="text-xl text-muted mb-6 leading-relaxed max-w-3xl mx-auto">
          Huitzo transforms your raw business data into clear, actionable intelligence. 
          No complex dashboards, no expensive data teams just the answers you need to grow.
        </p>

        <div class="flex flex-col sm:flex-row gap-4 justify-center mb-12">
          <a href="https://cli.huitzo.com" target="_blank" rel="noopener" class="btn-primary">
            Launch Platform
          </a>
          <a href="/intelligence-packs" class="btn-secondary">
            Explore Intelligence Packs
          </a>
        </div>
      </div>
    </div>
  </section>

  <!-- Executive Summary -->
  <Content
    isReversed
    tagline="The Huitzo Advantage"
    title="Intelligence, Packaged for Business"
    items={[
      {
        title: 'Connect Your Tools',
        description: 'Seamlessly link your existing business tools (Stripe, AWS, GitHub, CRM) in seconds.',
      },
      {
        title: 'Select Your Pack',
        description: 'Choose from specialized Intelligence Packs designed for Finance, Operations, or Market Research.',
      },
      {
        title: 'Get Answers, Not Just Data',
        description: 'Receive immediate, actionable insights and recommendations—not just raw charts.',
      },
    ]}
    image={{
      src: 'https://images.unsplash.com/photo-1551288049-bebda4e38f71?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80',
      alt: 'Huitzo Dashboard',
    }}
  >
    <Fragment slot="content">
      <h3 class="text-2xl font-bold tracking-tight dark:text-white sm:text-3xl mb-2">
        Your AI Analyst Team
      </h3>
      <p class="text-lg text-muted mb-6">
        Most businesses are drowning in data but starving for insights. Huitzo bridges the gap between passive dashboards and active decision-making.
      </p>
    </Fragment>
  </Content>

  <!-- Architecture -->
  <Features
    id="how-it-works"
    title="How It Works"
    subtitle="Enterprise-grade intelligence, simplified for everyone."
    columns={2}
    items={[
      {
        title: 'Secure Foundation',
        description: 'Built on a robust, secure core that handles authentication and data orchestration, ensuring your business data stays safe.',
        icon: 'tabler:lock',
      },
      {
        title: 'Visual Intelligence',
        description: 'Forget complex command lines. Huitzo provides clear, interactive dashboards that highlight exactly what you need to know.',
        icon: 'tabler:layout-dashboard',
      },
      {
        title: 'Intelligence Packs',
        description: 'Think of them as "Apps" for your business intelligence. Each pack is a specialized agent trained to solve a specific problem.',
        icon: 'tabler:package',
      },
      {
        title: 'Seamless Integrations',
        description: 'Our standardized "Bridge" technology connects to your infrastructure (Email, Slack, Cloud) without custom coding.',
        icon: 'tabler:api',
      },
    ]}
  />

  <!-- Competitive Landscape -->
  <Features
    id="why-huitzo"
    title="Why You Should Choose Huitzo"
    subtitle="Beyond chatbots and spreadsheets."
    columns={2}
    items={[
      {
        title: 'Beyond Chatbots',
        description: 'Chatbots are great for writing emails, but can they analyze your server logs or financial runway? Huitzo connects to real data to do real work.',
        icon: 'tabler:message-chatbot',
      },
      {
        title: 'Beyond Dashboards',
        description: 'Traditional dashboards show you what happened yesterday. Huitzo tells you what to do today.',
        icon: 'tabler:chart-dots',
      },
      {
        title: 'Action Oriented',
        description: 'Don\'t just view data act on it. Huitzo Packs can trigger workflows, send alerts, and execute tasks.',
        icon: 'tabler:bolt',
      },
      {
        title: 'Unified Platform',
        description: 'Stop jumping between ten different tools. Huitzo brings your Code, Data, and Insights into one unified view.',
        icon: 'tabler:box-model',
      },
    ]}
  />

  <!-- Market Analysis -->
  <section class="py-20 bg-[var(--aw-color-bg-secondary)]/50">
    <div class="container mx-auto px-4">
      <div class="max-w-5xl mx-auto text-center">
        <h2 class="text-3xl lg:text-4xl font-bold mb-8">Solve the "Context Switching" Problem</h2>
        <p class="text-lg text-muted mb-12">
          The average professional switches apps 1,200 times a day. It kills productivity. Huitzo stops the madness.
        </p>
        
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
          <div class="bg-[var(--aw-color-bg-page)] p-6 rounded-lg border border-gray-700">
            <h3 class="text-xl font-bold mb-4">The Old Way</h3>
            <p class="text-muted">
              Ask a chatbot → Copy code → Open Terminal → Run Script → Check Dashboard → Write Email.
            </p>
          </div>
          <div class="bg-[var(--aw-color-bg-page)] p-6 rounded-lg border border-gray-700">
            <h3 class="text-xl font-bold mb-4">The Huitzo Way</h3>
            <p class="text-muted">
              Select Pack → Run Command → View Insight → Click "Execute". Done.
            </p>
          </div>
          <div class="bg-[var(--aw-color-bg-page)] p-6 rounded-lg border border-gray-700">
            <h3 class="text-xl font-bold mb-4">The Result</h3>
            <ul class="text-left text-muted space-y-2">
              <li>• 10x Faster Decisions</li>
              <li>• Zero Context Switching</li>
              <li>• Unified Workflow</li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Strategic Recommendations -->
  <Features
    id="use-cases"
    title="Built for Every Stakeholder"
    subtitle="Whether you are an investor, a founder, or an operator, Huitzo delivers value."
    columns={3}
    items={[
      {
        title: 'For Investors',
        description: 'Perform technical and financial due diligence in seconds. Connect to a portfolio company\'s data and get an instant health check.',
        icon: 'tabler:chart-pie',
      },
      {
        title: 'For Founders',
        description: 'Monitor your burn rate, runway, and key metrics without hiring a CFO or Data Analyst. Focus on product, not spreadsheets.',
        icon: 'tabler:rocket',
      },
      {
        title: 'For Operations',
        description: 'Automate routine checks, server maintenance, and compliance reporting. Let Huitzo handle the boring stuff.',
        icon: 'tabler:server',
      },
    ]}
  />

  <!-- Intelligence Packs Section -->
  <section class="py-20 bg-[var(--aw-color-bg-secondary)]">
    <div class="container mx-auto px-4">
      <div class="max-w-5xl mx-auto">
        <div class="text-center mb-12">
          <h2 class="text-3xl lg:text-4xl font-bold mb-4">
            Intelligence Packs
          </h2>
          <p class="text-lg text-muted">
            Specialized, high-value bundles of Logic + UI.
          </p>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 max-w-4xl mx-auto">
          {featuredPack && (
            <IntelligencePackCard pack={featuredPack} showFullDescription={false} />
          )}
          {activePacks[1] && (
            <IntelligencePackCard pack={activePacks[1]} showFullDescription={false} />
          )}
        </div>

        <div class="text-center mt-8">
          <a href="/intelligence-packs" class="btn-secondary">
            View All Intelligence Packs →
          </a>
        </div>
      </div>
    </div>
  </section>

  <!-- Final CTA Section -->
  <section class="py-20">
    <div class="container mx-auto px-4">
      <div class="max-w-4xl mx-auto text-center">
        <h2 class="text-3xl lg:text-4xl font-bold mb-6">
          Ready to Stop Guessing?
        </h2>
        <p class="text-lg text-muted mb-8">
          Join the early adopters who are already making faster, smarter decisions with Huitzo.
        </p>

        <div class="flex flex-col sm:flex-row gap-4 justify-center">
          <a href="https://cli.huitzo.com" target="_blank" rel="noopener" class="btn-primary">
            Launch Platform (Alpha Users)
          </a>
          <a href="/intelligence-packs" class="btn-secondary">
            Explore Intelligence Pack Ideas 
          </a>
        </div>

        <!-- Contact Info -->
        <div class="mt-12 pt-8 border-t border-gray-700">
          <p class="text-sm text-muted">
            Questions? Reach out at
            <a href="mailto:huitzo@solathomas.com" class="text-primary hover:underline">huitzo@solathomas.com</a>
          </p>
        </div>
      </div>
    </div>
  </section>
</Layout>
