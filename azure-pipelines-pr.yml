# Azure DevOps PR Pipeline for Huitzo Website

trigger:
  branches:
    include:
      - main
  paths:
    include:
      - src/*
      - public/*
      - astro.config.ts
      - package.json
      - tailwind.config.cjs
      - tsconfig.json

pr:
  branches:
    include:
      - main
  paths:
    include:
      - src/*
      - public/*
      - astro.config.ts
      - package.json
      - tailwind.config.cjs
      - tsconfig.json

pool:
  name: Default

steps:
  - task: NodeTool@0
    inputs:
      versionSpec: "22.x"
    displayName: "Install Node.js"

  - script: npm install
    displayName: "npm install"

  - script: npm run check:astro
    displayName: "Astro type check"

  - script: npm run check:prettier
    displayName: "Prettier check"

  - script: npm run build
    displayName: "npm run build"
